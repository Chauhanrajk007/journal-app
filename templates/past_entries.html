<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Journal Diary</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/past_entries.css') }}">
</head>
<body>
  <!-- ... your header, back button, search bar, entries, etc ... -->

  <main>
    <!-- Example of what your entries might look like -->
    <div id="entries-container">
      {% for entry in entries %}
      <div class="entry-card">
        <div class="entry-header">
          <span class="entry-date">{{ entry.date }}</span>
        </div>
        <div class="entry-content">
          {{ entry.content }}
        </div>
      </div>
      {% endfor %}
    </div>
  </main>

  <!-- Floating global 3-dots dropdown menu (add only ONCE per page) -->
  <div id="ellipsis-dropdown-container">
    <button id="ellipsis-btn" aria-label="Open menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul id="ellipsis-dropdown" class="hidden" role="menu">
      <li><a href="/edit" role="menuitem">Edit Entry</a></li>
      <li><a href="/delete" role="menuitem">Delete Entry</a></li>
      <li><a href="/share" role="menuitem">Share Entry</a></li>
    </ul>
  </div>

  <!-- JS for the 3-dots dropdown -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const btn = document.getElementById('ellipsis-btn');
      const menu = document.getElementById('ellipsis-dropdown');
      btn.addEventListener('click', function(e) {
        menu.classList.toggle('hidden');
        e.stopPropagation();
      });
      // Close menu when clicking outside
      document.addEventListener('click', function() {
        menu.classList.add('hidden');
      });
      // Close on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') menu.classList.add('hidden');
      });
    });
  </script>
</body>
</html>
